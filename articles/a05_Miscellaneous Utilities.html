<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Miscellaneous Utilities • XcalRep</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Miscellaneous Utilities">
<meta property="og:description" content="XcalRep">
<meta property="og:image" content="https://github.com/NMikolajewicz/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">XcalRep</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/NMikolajewicz/XcalRep/">source code</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Miscellaneous Utilities</h1>
                        <h4 class="author">Nicholas Mikolajewicz</h4>
            
            <h4 class="date">2020-05-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/NMikolajewicz/XcalRep/blob/master/vignettes/a05_Miscellaneous%20Utilities.Rmd"><code>vignettes/a05_Miscellaneous Utilities.Rmd</code></a></small>
      <div class="hidden name"><code>a05_Miscellaneous Utilities.Rmd</code></div>

    </div>

    
    
<div id="miscellaneous-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#miscellaneous-functions" class="anchor"></a>Miscellaneous Functions</h1>
<p>There are several additional functions that are worthwhile exploring in the <code>XcalRep</code> package.</p>
<div id="data-import-and-prep" class="section level3">
<h3 class="hasAnchor">
<a href="#data-import-and-prep" class="anchor"></a>Data import and prep</h3>
<p>Prior to analysis, import data and preprocess as described in the <strong>Getting Started</strong> Vignette.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co"># import EFP and QC1 imaging phantom data</span>
<span class="no">df.qc1</span> <span class="kw">&lt;-</span><span class="no">qc1</span>
<span class="no">df.efp</span> <span class="kw">&lt;-</span> <span class="no">efp</span>

<span class="co"># omit water-mimetic resin sections</span>
<span class="no">df.qc1</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">df.qc1</span>, <span class="no">section</span>  <span class="kw">!=</span> <span class="fl">1</span>) <span class="co"># remove water mimic section 1</span>
<span class="no">df.efp</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">df.efp</span>, <span class="no">section</span>  <span class="kw">!=</span> <span class="fl">4</span>) <span class="co"># remove water mimic section 4</span>
<span class="no">df.efp</span>$<span class="no">section</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="no">df.efp</span>$<span class="no">section</span>))
<span class="no">df.qc1</span>$<span class="no">section</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="no">df.qc1</span>$<span class="no">section</span>))

<span class="co"># combine datasets (ensure replicate sets aren't mixed)</span>
<span class="no">df.qc1</span>$<span class="no">replicateSet</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"q"</span>, <span class="no">df.qc1</span>$<span class="no">replicateSet</span>, <span class="kw">sep</span> <span class="kw">=</span> <span class="st">""</span>)
<span class="no">df.efp</span>$<span class="no">replicateSet</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"e"</span>, <span class="no">df.efp</span>$<span class="no">replicateSet</span>, <span class="kw">sep</span> <span class="kw">=</span> <span class="st">""</span>)
<span class="no">all.data</span> <span class="kw">&lt;-</span> <span class="fu">bind_rows</span>(<span class="no">df.qc1</span>, <span class="no">df.efp</span>)


<span class="co"># create Calibration Object</span>
<span class="no">co</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/createCalibrationObject.html">createCalibrationObject</a></span>(<span class="no">all.data</span>)

<span class="co"># get list of feature subsets to analyze</span>
<span class="no">analyze.these</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/analyzeWhich.html">analyzeWhich</a></span>(<span class="no">co</span>,
                              <span class="kw">include.parameters</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Tt.vBMD"</span>))

<span class="co"># preprocess/filter data</span>
<span class="no">co</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/preprocessData.html">preprocessData</a></span>(<span class="kw">object</span> <span class="kw">=</span> <span class="no">co</span>,
                      <span class="kw">analyze.which</span> <span class="kw">=</span> <span class="no">analyze.these</span>,
                      <span class="kw">new.assay.name</span> <span class="kw">=</span> <span class="st">"preprocessed.data"</span>,
                      <span class="kw">which.assay</span> <span class="kw">=</span> <span class="st">"input"</span>)</pre></body></html></div>
<p><strong>1) Mean-Variance Relationship:</strong> <code>meanVarPlot</code></p>
<p>The <code>mean.var.plot</code> function enables users to explore the relationship between measurement means and variance, and may inform which precision error is more appropriate to report. The precision error measure that remains relatively constant across all values is preferred, as it does not misrepresent reproducibility for extreme values.</p>
<p>This relationship can be examined as either a <strong>scatter plot</strong></p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/meanVarPlot.html">meanVarPlot</a></span>(<span class="no">co</span>,
              <span class="kw">which.data</span> <span class="kw">=</span> <span class="st">"uncalibrated"</span>,
              <span class="kw">which.plot</span> <span class="kw">=</span> <span class="st">"scatter"</span>,
              <span class="kw">which.parameter</span> <span class="kw">=</span> <span class="st">"Tt.vBMD"</span>)</pre></body></html></div>
<pre><code>#&gt; Warning in meanVarPlot(co, which.data = "uncalibrated", which.plot =
#&gt; "scatter", : precision errors calculated based on replicateSet grouping</code></pre>
<pre><code>#&gt; `geom_smooth()` using formula 'y ~ x'
#&gt; `geom_smooth()` using formula 'y ~ x'</code></pre>
<p><img src="a05_Miscellaneous%20Utilities_files/figure-html/meanVarPlot%20scatter-1.png" width="700"></p>
<p>or <strong>boxplot</strong></p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="co"># requires troubleshooting</span>
<span class="co"># error message: Error in eval(predvars, data, env) : object 'section' not found</span>

<span class="co"># meanVarPlot(co, </span>
<span class="co">#               which.data = "uncalibrated", </span>
<span class="co">#               which.plot = "box", </span>
<span class="co">#               which.parameter = "Tt.vBMD")</span></pre></body></html></div>
<p><strong>2) Utility Functions:</strong></p>
<p><code>cloneAssay</code> If users i) create an analysis “checkpoint” to which they can return at a later time or ii) diverge in analysis pipelines for the current dataset, <code>cloneAssay</code> will duplicate the specified (or current) <code>Assay</code> within the current <code>Calibration Object</code>.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="co"># duplicate current assay</span>
<span class="no">co</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/cloneAssay.html">cloneAssay</a></span>(<span class="no">co</span>)</pre></body></html></div>
<pre><code>#&gt; 
#&gt; 'preprocessed.data' was successfully cloned</code></pre>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="../reference/getAssay.html">getAssay</a></span>(<span class="no">co</span>, <span class="kw">which.assays</span> <span class="kw">=</span> <span class="st">"all"</span>)</pre></body></html></div>
<pre><code>#&gt; [1] "input"                  "preprocessed.data"      "preprocessed.data-copy"</code></pre>
<p><code>deleteAssay</code> A specified assay can be deleted using the <code>deleteAssay</code> function.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="co"># duplicate current assay</span>
<span class="no">co</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/deleteAssay.html">deleteAssay</a></span>(<span class="no">co</span>, <span class="kw">which.assay</span> <span class="kw">=</span> <span class="st">"preprocessed.data-copy"</span>)</pre></body></html></div>
<pre><code>#&gt; 
#&gt; 'preprocessed.data-copy' was successfully deleted.</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://scholar.google.ca/scholar?hl=en&amp;as_sdt=0%2C5&amp;q=mikolajewicz+nicholas&amp;oq=">Nicholas Mikolajewicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
